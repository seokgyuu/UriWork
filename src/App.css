/* 전역 반응형 타이포그래피 및 유틸리티 */
:root {
  --fluid-font-min: 14px;
  --fluid-font-max: 18px;
}

html {
  /* 화면 크기에 따라 rem 기준 크기 자동 스케일 */
  font-size: clamp(var(--fluid-font-min), 1rem + 0.6vw, var(--fluid-font-max));
  -webkit-text-size-adjust: 100%;
}

body {
  line-height: 1.5;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  min-height: 100vh;
  background-color: #f9fafb;
}

img, video, canvas, svg {
  max-width: 100%;
  height: auto;
}

/* 박스 사이징 통일로 레이아웃 깨짐 방지 */
*, *::before, *::after { box-sizing: border-box; }

/* 컨테이너 패딩을 화면에 맞춰 유동적으로 */
.container-responsive {
  padding-left: clamp(8px, 2vw, 24px);
  padding-right: clamp(8px, 2vw, 24px);
}

/* 그리드 갭 유동 */
.grid-gap-responsive {
  gap: clamp(8px, 2vw, 24px);
}

/* 카드 패딩 유동 */
.card-padding-responsive {
  padding: clamp(12px, 2.4vw, 24px);
}

/* 반응형 텍스트 유틸 */
.text-responsive-xs { font-size: clamp(0.75rem, 1.2vw, 0.875rem); }
.text-responsive-sm { font-size: clamp(0.875rem, 1.4vw, 1rem); }
.text-responsive-base { font-size: clamp(1rem, 1.6vw, 1.125rem); }
.text-responsive-lg { font-size: clamp(1.125rem, 2vw, 1.25rem); }
.text-responsive-xl { font-size: clamp(1.25rem, 2.4vw, 1.5rem); }
.text-responsive-2xl { font-size: clamp(1.5rem, 3vw, 1.875rem); }

/* 탭 바 가로 스크롤 */
.responsive-tabs {
  overflow-x: auto;
  -webkit-overflow-scrolling: touch;
  scrollbar-width: thin;
}
.responsive-tabs::-webkit-scrollbar { height: 6px; }
.responsive-tabs::-webkit-scrollbar-thumb { background-color: rgba(0,0,0,0.15); border-radius: 9999px; }

/* 스크롤바 숨기기 */
.scrollbar-hide {
  -ms-overflow-style: none;  /* IE and Edge */
  scrollbar-width: none;  /* Firefox */
}
.scrollbar-hide::-webkit-scrollbar {
  display: none;  /* Chrome, Safari and Opera */
}

/* iOS 안전영역 상단 패딩 및 고정 헤더, 터치 타겟 확장 */
.safe-area-top {
  padding-top: calc(env(safe-area-inset-top, 0px) + 8px);
}
.safe-area-bottom {
  padding-bottom: calc(env(safe-area-inset-bottom, 0px) + 8px);
}
.sticky-header {
  position: sticky;
  top: 0;
  z-index: 40;
}
.touch-target {
  min-height: 44px;
}

/* 모바일에서 좌우 잘림 방지 */
html, body, #root { width: 100%; overflow-x: hidden; }

/* iPhone 13 mini 전용 최적화 (375px × 812px) */
@media only screen and (max-width: 375px) and (max-height: 812px) {
  /* 기본 폰트 크기 조정 */
  html {
    font-size: 14px;
  }
  
  /* 컨테이너 패딩 최소화 */
  .container-responsive {
    padding-left: 8px;
    padding-right: 8px;
  }
  
  /* 버튼 크기 최적화 */
  .btn-sm-mobile {
    padding: 8px 12px;
    font-size: 13px;
    min-height: 40px;
  }
  
  .btn-mobile {
    padding: 10px 16px;
    font-size: 14px;
    min-height: 44px;
  }
  
  /* 카드 패딩 축소 */
  .card-padding-responsive {
    padding: 12px;
  }
  
  /* 텍스트 크기 최적화 */
  .text-responsive-2xl { font-size: 1.25rem; }
  .text-responsive-xl { font-size: 1.125rem; }
  .text-responsive-lg { font-size: 1rem; }
  .text-responsive-base { font-size: 0.875rem; }
  .text-responsive-sm { font-size: 0.75rem; }
  .text-responsive-xs { font-size: 0.675rem; }
  
  /* 간격 최적화 */
  .space-y-6 > * + * { margin-top: 1rem; }
  .space-y-4 > * + * { margin-top: 0.75rem; }
  .space-y-3 > * + * { margin-top: 0.5rem; }
  
  /* 그리드 갭 축소 */
  .grid-gap-responsive {
    gap: 8px;
  }
  
  /* 로그인 화면 최적화 */
  .login-container {
    padding: 16px 8px;
    max-width: 100%;
  }
  
  .login-form {
    space-y: 4;
  }
  
  /* 대시보드 최적화 */
  .dashboard-container {
    padding: 8px;
  }
  
  /* 탭 버튼 크기 조정 */
  .tab-button-mobile {
    padding: 8px 12px;
    font-size: 12px;
    min-width: 60px;
  }
  
  /* 입력 필드 최적화 */
  .input-mobile {
    padding: 8px 12px;
    font-size: 14px;
    min-height: 40px;
  }
  
  /* 모달 최적화 */
  .modal-mobile {
    margin: 8px;
    max-height: calc(100vh - 32px);
    overflow-y: auto;
  }
}

/* 작은 화면 공통 최적화 (iPhone SE, iPhone 13 mini 등) */
@media only screen and (max-width: 390px) {
  /* 헤더 높이 축소 */
  .header-mobile {
    min-height: 56px;
    padding: 8px 12px;
  }
  
  /* 모바일에서 패딩 최소화 */
  .dashboard-container {
    padding-left: 8px;
    padding-right: 8px;
  }
  
  /* 네비게이션 버튼 크기 조정 */
  .nav-button-mobile {
    padding: 6px 10px;
    font-size: 12px;
  }
  
  /* 테이블 최적화 */
  .table-mobile {
    font-size: 12px;
  }
  
  .table-mobile td,
  .table-mobile th {
    padding: 6px 8px;
  }
  
  /* 폼 요소 간격 축소 */
  .form-group-mobile {
    margin-bottom: 12px;
  }
  
  /* 알림 메시지 최적화 */
  .alert-mobile {
    padding: 8px 12px;
    font-size: 13px;
  }
}

/* 전체 너비 유틸리티 클래스 */
.full-width-content {
  width: 100% !important;
  max-width: none !important;
  margin-left: 0 !important;
  margin-right: 0 !important;
}

/* 모바일에서 패딩 및 마진 완전 제거 */
@media (max-width: 768px) {
  .dashboard-container {
    padding-left: 0 !important;
    padding-right: 0 !important;
  }
  
  .dashboard-container header,
  .dashboard-container main {
    padding-left: 0 !important;
    padding-right: 0 !important;
  }
  
  /* 카드 스타일 제거 */
  .dashboard-container .bg-white {
    background: transparent !important;
    padding: 0 !important;
    border-radius: 0 !important;
    margin: 0 !important;
    box-shadow: none !important;
  }
  
  /* AI 스케줄 생성 컴포넌트 카드 제거 */
  .dashboard-container .max-w-6xl {
    max-width: none !important;
    margin: 0 !important;
    padding: 0 !important;
  }
  
  .dashboard-container .bg-gray-50 {
    padding: 12px !important;
  }
  
  /* 카드 간 간격 제거 */
  .dashboard-container .space-y-6 > * + * {
    margin-top: 0 !important;
  }
  
  .dashboard-container .space-y-4 > * + * {
    margin-top: 0 !important;
  }
}

.full-width-grid {
  width: 100%;
  padding-left: 8px;
  padding-right: 8px;
}

/* 컨테이너 최대 너비 제거 */
@media (max-width: 768px) {
  .max-w-7xl,
  .max-w-6xl,
  .max-w-5xl,
  .max-w-4xl,
  .max-w-3xl,
  .max-w-2xl,
  .max-w-xl,
  .max-w-lg,
  .max-w-md,
  .max-w-sm {
    max-width: none !important;
    width: 100% !important;
  }
}
